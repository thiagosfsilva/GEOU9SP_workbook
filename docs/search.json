[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "GEOU9SP GIS Workbook",
    "section": "",
    "text": "Welcome!\nThis e-book was created as a lab companion for the GEOU9SP - Geographic Information Systems module at University of Stirling. It contains all the practical exercises that will be covered throughout the module.\nThis book is not a replacement to Canvas, so make sure you are engaging with the material on Canvas on a weekly basis!\nThe content of this book is organised into sections, which will correspond to the teaching weeks and practical lab sessions. You will always see the main content in the center window, with a detailed menu covering all entries in the book on the left, and a chapter-specific table of contents on the right. The Canvas pages for each lab session will always link to the corresponding chapter in this book.\nA PDF version of this book can be downloaded here.\nIf you have any questions follow the instructions on Canvas on how to contact the module coordinator.",
    "crumbs": [
      "Welcome!"
    ]
  },
  {
    "objectID": "sec_intro_toGIS.html",
    "href": "sec_intro_toGIS.html",
    "title": "Week 1 - Introduction to GIS",
    "section": "",
    "text": "ILOs covered",
    "crumbs": [
      "Week 1 - Introduction to GIS"
    ]
  },
  {
    "objectID": "sec_intro_toGIS.html#ilos-covered",
    "href": "sec_intro_toGIS.html#ilos-covered",
    "title": "Week 1 - Introduction to GIS",
    "section": "",
    "text": "Understand the structure of spatial data and choose appropriate data types and models for storing and representing it;\nObtain and assess the quality of spatial data from online and offline sources and produce new spatial data using computer and field methods;\nCreate map visualisations that adhere to cartographic principles and can be easily and unambiguously interpreted by the non-specialist public;",
    "crumbs": [
      "Week 1 - Introduction to GIS"
    ]
  },
  {
    "objectID": "sec_intro_toGIS.html#what-will-you-learn",
    "href": "sec_intro_toGIS.html#what-will-you-learn",
    "title": "Week 1 - Introduction to GIS",
    "section": "What will you learn",
    "text": "What will you learn\nFor every week, we will list the main theoretical and practical learning goals. Use these as a ‘checklist’ to gauge your learning for each week. If you don’t feel confident you have learned any specific topic, then revisit the week’s material!\n\nTheoretical knowledge for Week 1:\n\nWhat are Geomatics, GIS, Remote Sensing and associated terms and fields?\nWhat is spatial data?\nWhat is a datum?\nWhat is a map projection?\nWhat is a Coordinate Reference System?\n\n\n\nPractical knowledge:\nLab 1  Lab 1: QGIS overview and file management\n\nHow to launch QGIS\nHow to load a spatial data file\nHow to navigate the main QGIS interface\nHow to identify features\nHow to do basic measurements\nHow to do basic styling of spatial data\nHow to enter the layout editor\nHow to make and export a simple map layout\n\nLab 2  Lab: Coordinate Reference Systems\n\nHow to check the Coordinate Reference System of a spatial file\nHow to set the CRS of a QGIS project\nHow to set the CRS of a spatial file when it is already known.\nHow to reproject(convert) a spatial file from one CRS to another\nWhat are the main CRSs you should be familiar with.",
    "crumbs": [
      "Week 1 - Introduction to GIS"
    ]
  },
  {
    "objectID": "lab_intro.html",
    "href": "lab_intro.html",
    "title": "1  Lab 1: QGIS overview and file management",
    "section": "",
    "text": "1.1 Pre-Lab Activities",
    "crumbs": [
      "Week 1 - Introduction to GIS",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Lab 1: QGIS overview and file management</span>"
    ]
  },
  {
    "objectID": "lab_intro.html#GE1",
    "href": "lab_intro.html#GE1",
    "title": "1  Lab 1: QGIS overview and file management",
    "section": "1.2 Guided Exercise 1 - Managing and loading files",
    "text": "1.2 Guided Exercise 1 - Managing and loading files\nIn this exercise, you download some data, then prepare a folder structure to organise the files in your GIS projects, then create a QGIS project file and add some GIS data to it.\n\n1.2.1 Downloading the required data\nFor this practical you will use the “OS open road” and “OS Terrain 50 Digital Terrain Model” spatial datasets, specifically for the NS89 tile of the Ordnance Survey British National Grid.\n\nHead to the Digimap website, and if you haven’t already, make sure you accept the user licenses for all datasets, as show on the instructions video.\nGo the Ordnance SUrvey section of the site, and then pick the View maps and download data option on the right.\nFollowing the steps shown on the instructions video, download the following datasets for the NS89 BNG tile only:\n\n\nOS Open Roads (under Vector Data)\n“OS Terrain 50 Digital Terrain Model” (NOT Terrain 5 and NOT Contours, under Land and Height Data)\n\nAs a hint, if you have searched for tile NS89 and checked the required datatsets correctly, you will see a screen like this:\n\n\n\n1.2.2 Creating a project structure\nGIS projects generate a lot of different files, and quickly, so project organization is essential. The folder structure below is my personal suggestion for organizing GIS projects files and associated data. As you get comfortable managing your own projects, feel free to change the organization structure to something that best suits your own workflow and the specific project you are working on!\n\nCreate a folder on your computer with the module name (GEOU9SP), off of your main work folder. For Windows this will usually be Documents. For Linux and Mac, create it on you home folder. (If you prefer and are comfortable with saving at another location on your computer, go for it!)\n\nWindows:\n\nmac OS:\n\n\n\n\n\n\n\nImportant\n\n\n\n\nHaving complex file paths can sometimes create problems. That is why we try to keep our main projects on a base folder. If you would like to keep a copy of your data on your OneDrive folder you are encouraged to do so, but I don’t recommend working directly from it. That is because the full path to a OneDrive folder will to be very long and likely contain spaces. Mine, for example is C:\\Users\\Thiago\\OneDrive - University of Stirling\\Documents. Those spaces in the name may create problems later. So I recommend copying your data tom your OneDrive folder at the end of each lab instead.\nFor the same reason, never use spaces or special symbols on your folder and file names. Limit yourself to using letters A-Z and a-z, numbers 1-9 and just the underline (_) and dash (-) symbols.\nWindows does not differentiate letter case, so if you create a file named filename1.txt and then a second file named Filename1.txt in the same folder, the second will overwrite the first. Mac OS does differentiate upper and lower case letters, so ‘Filename.txt’ and ‘filename.txt’ are considered different names and can co-exist in the same folder.\n\n\n\n\nInside the new GEOU9SP folder, create a subfolder called lab_1 (notice I am avoiding spaces by using the underline)\nInside lab_1, create the following folder structure. On the diagram below, the folder raster is a folder inside the folder 01_raw_data, which is inside lab_1 and so on.\n\n.\n└── ENMPG11/\n    └── lab_1/\n        ├── 00_qgis\n        ├── 01_raw_data/\n        │   ├── raster\n        │   └── vector\n        ├── 02_processing\n        ├── 03_final_products\n        └── 04_notes\nI like to start folder names start with double digits so they are kept in order. These folders will be used as follows:\n\n00_qgis: we will use this folder to save our QGIS project files.\n01_raw_data: this folder will keep all the original data files you download. This way you can always go back to the start if something goes wrong. You can optionally use the subfolders vector and raster to easily know which data type you are working with, but this may not be necessary for small projects. As you obtain data you will create additional subfolders for each individual dataset to keep data organized.\n02_processing: here we will keep all the intermediate files you generate as part of your work. Make ample use of subfolders to identify each step of the workflow.\n03_final_products: here we will keep the final products of our intended analysis. This makes it easy for us to find the latest version of our final results, without risking confusing it with intermediate files. This can also include maps, reports and any other ’deliverable’resulting from your analysis.\n04_notes: here we will keep all our non-GIS files. For example, it may be a good idea to keep a text file documenting the project steps as you work on it. You could also save here screen grabs of specific steps. Again, use subfolders as needed to keep your data tidy.\n\n\nNow move the data you’ve downloaded into your organized project folders and extract (unzip) them if necessary. The terrain data files should go into the raster folder) and the roads data files into the vector folder. You can keep the data into the original folders they came in, for easy identification. Your folder structure should look like this:\n\n.\n└── ENMPG11/\n    └── lab_1/\n        ├── 00_qgis\n        ├── 01_raw_data/\n        │   ├── raster/\n        │   │   └── OS_terrain_50/\n        │   │       └── ...\n        │   └── vector/\n        │       └── OS_roads/\n        │           └── ...\n        ├── 02_processing\n        ├── 03_final_products\n        └── 04_notes\n\nStart a new text file (a Word .doc file or a Notepad .txt file) in your notes folder, and write a few lines documenting the steps you took until now. If you prefer hand written notes on a paper notebook, feel free to use it instead! The important thing is to keep track of the steps you are taking. As projects get more complicated, it is easy to forget which steps we took, and in what order!\n\n\n\n1.2.3 Creating a QGIS project and adding data to it\nA QGIS project is just an index file that will remember all the data layers you have loaded, their stacking order, the styling of each layer, and some other information such as the coordinate reference system. It will also keep any map layouts that you create. But it will NOT store the data files themselves!!. That is why we need good project folder organisation.\n\nCreate a new project in QGIS by clicking on Project &gt; New... or pressing Ctrl-N:\n\n\n\n\n\n\n\n\n\n\n\nAdd the layers NS_RoadLink.shp from the OS Roads layer and the NS89.asc terrain data from your organized project folders to your project.\nSave your project. Click on the Save button, give your project a name, and save it inside the 00_qgis folder.\nOpen the project settings by clicking on the menu Project &gt; Properties.... You will then see this window:\n\n\n\n\n\n\n\n\n\n\n\nThe main things to set on your new project are the project home folder, the coordinate reference system (CRS) and the measurement units.\n\nAs the project home on the General tab, select the lab_1 folder you created. This helps quick navigation when opening and saving data.\nFor measurement units, make sure distance units are set in meters, and area units in squared meters, also on the General tab.\nFor the CRS, go to the CRS tab and search for 27700 in the Filter box. That is the EPSG code that identifies the OSGB 1936 British National Grid coordinate reference system. Select it by clicking on it.\n\n\n\nEPSG stands for “European Petroleum Survey Group”, and designates a database with standard codes for hundreds of coordinate reference systems. Over time, you will probably memorize the EPSG codes for the CRSs you use more often.\n\n\nSave your project by clicking on the Save button, or going to Project &gt; Save, or by holding Ctrl+S simultaneously.",
    "crumbs": [
      "Week 1 - Introduction to GIS",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Lab 1: QGIS overview and file management</span>"
    ]
  },
  {
    "objectID": "lab_intro.html#guided-exercise-2---styling-your-layers-and-producing-a-simple-map",
    "href": "lab_intro.html#guided-exercise-2---styling-your-layers-and-producing-a-simple-map",
    "title": "1  Lab 1: QGIS overview and file management",
    "section": "1.3 Guided Exercise 2 - Styling your layers and producing a simple map",
    "text": "1.3 Guided Exercise 2 - Styling your layers and producing a simple map\n\nSelect the NS89 layer on the Layers side panel, and drag it to the bottom of the layers list if not there already.\nTurn the roads layer off for now.\nRight-click on the layer name and choose Rename Layer. Rename it to Digital Elevation Model (50m). Open the file explorer in your system, and look for the NS89.asc file you have saved before.\n\n\n\n\n\n\n\nStop and Think\n\n\n\nWill changing a layer name in the layer panel also change the name of the source data file for that layer?\n\n\n\nRight click on the terrain layer and choose Zoom to Layer. This is always a handy tool to “find yourself” if you end up zooming or panning the map too far. Pick a layer that covers most of your intended work area and zoom to it.\nRight click on the terrain layer name and select Properties..., then go to the Symbology tab. Select Rendering type to be Single Band Pseudocolor, and Color Ramp as spectral. Click again on the down arrow button to the right of the Color Ramp box, and select Invert Color Ramp, so that the minimum heights are colored blue. Then click OK. Save your project.\n\n\n\n\n\n\n\nStop and Think\n\n\n\nStop and think: Why bother inverting the color ramp for this dataset?\n\n\n\nRename the NS_RoadLink layer to Road Network. Go to its Symbology properties and click on Simple Line. Change the line color to a mid-grey, and the line width to 0.3. Click OK. Reactivate the layer to visualise it.\nGo to the Vector menu and select Research Tools &gt; Extract Layer Extent.... Select the terrain layer as your Input layer, and click Run to generate a temporary layer. This layer will not be kept once you close QGIS, unless you save it manually later. The window will not close automatically once you run, so remember to click on Close when you are done.\nGo to Vector &gt; Geoprocessing Tools &gt; Clip.... Select the roads layer as the Input Layer and the new temporary layer as the Overlay Layer. This time, we will save the output. Click on the ... button to the right of the Clipped text box, and then choose Save to file. Save your new layer on ENMPG11/lab_1/processing, naming it clipped_roads.shp. Make sure the SHP file format is selected below the file name.\nTurn the original roads layer on and off to see the result of your operation. Then right-click on the original roads layer, and select Styles &gt; Copy Style &gt; All Style Categories. Then right click on the new (clipped) roads layer and select Styles &gt; Paste Style &gt; All Style Categories. Remove the original roads layer from your project and save the project. Close QGIS.\n\n\n\n\n\n\n\nStop and Think\n\n\n\nStop and think: what does the warning given by QGIS when you try to close it means?\n\n\n\nReopen QGIS, and load back your project. Notice it remembers exaclty where you last saved it, including zoom level, layer names and layer styles. If the “Extent” layer still shows on the side panel, remove it (as the source data file was not saved, this entry now links to nothing).\nClick on Project &gt; New Map Layout and name it Lab 1 Layout. A new window will open with the QGIS Layout Editor.\nAdd a new map to the layout by clicking on the  icon. Drag it through the page so it covers about 2/3 of it horizontally, and the full page (minus borders) vertically.\nUse the Interactive Extent tool  to pan and zoom until your data uses most of the map area. Make sure you are not hiding the edges of your map with too much zoom!\n\n\n\nNow fine tune the map scale by changing the Scale value on the right panel. Remember that this value means “1:value”, meaning 1 unit on the page is equal to that many units (value) in the real world. This means larger numbers will “zoom out”, and smaller numbers will “zoom in”. Try to make the map fill as much as possible of the map box, without clipping the edges.\nGo to the menu Add Item &gt; Add Legend... (notice the icon for this option, and find it on the side toolbar). Click the area beside the map box and drag to add a legend.\nGo back to the main QGIS window, right click on the terrain layer name, and on the Symblogy tab, change the Mode under the class color box to Equal Interval, and select the number of Classes to 10 (to the right of the Equal Interval box). Go back top the Map Layout eritor.\nGo to the menu Add Item &gt; Add Scalebar (notice the icon for this option, and find it on the side toolbar). Click and drag below the legend to add it to the map layout.\nAdd a title to your map using the Add Label... tool (either on the Add Item menu or selecting the tool directly from the lef sidebar). You can change the text by replacing the “Lorem ipsum” placeholder with your own text on the left pane. Try to make it Bold with a font size of 16.\nRearrange the items on the page until you are pleased with the results. Then go to Layout &gt; Export as PDF..., and export your map, naming it properly and saving it on ENMPG11/lab_1/products. Save your map layout by clicking on the save button in the Map Layout Window and close it. Then save your Project on the main QGIS window and close QGIS as well.\nReopen QGIS, and go to Project &gt; Layout Manager. The layout you created previosuly show appear on the list. Select it and click on Show.\n\nCongratulations! You have sucessfully finished your first GIS project, using proper file management practices. As a final suggestion, create a “workflow_notes” file on ENPMG11/lab1/notes and write up a quick overview of what you did, along with any specific notes you would like to remember later.\n\n\n\n\n\n\nAnswerS to Stop and Think Questions\n\n\n\n\n\nQ: Will changing a layer name in the layer panel also change the name of the source data file for that layer?\nA: No, the layer name in your project is independent from the file name. You should use nice, readable and properly spelled names, and you don’t need to worry about using spaces.\nQ: Why bother inverting the color ramp for this dataset?\nA: We should always try to use colours that reinforce map interpretation. The color blue is usually associated with water, and water accumulates on the lowest elevations, so setting the lowest elevations to blue helps map users interpret the map.\nQ: What does the warning given by QGIS when you try to close it means?\nA: Because you have created a temporary layer",
    "crumbs": [
      "Week 1 - Introduction to GIS",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Lab 1: QGIS overview and file management</span>"
    ]
  },
  {
    "objectID": "lab_intro.html#independent-exercise-1",
    "href": "lab_intro.html#independent-exercise-1",
    "title": "1  Lab 1: QGIS overview and file management",
    "section": "1.4 Independent Exercise 1",
    "text": "1.4 Independent Exercise 1\n\nCreate a new project folder structure for this new project, under your main ENMPG11 or GEOU9SP work folder. Then obtain layers for:\nDownload the following data and move it to the appropriate locations in your project folders:\n\n\n“Sites of Special Scientific Interest” from The Scottish Natural Heritage Natural Spaces collection: https://gateway.snh.gov.uk/natural-spaces/. Use the ESRI Shapefile data format.\nRoads and rivers from the Ordnance Survey Open Data page: https://www.ordnancesurvey.co.uk/opendatadownload/products.html. Again, use the ESRI Shapefile format.\n\n\nLoad the data into QGIS. Some datasets may be be given as several files split by BNG grid tile. Focus your analysis on data from BNG grid tile NN. If you need a quick refresher, these are the main grid tile codes:\n\n\n\n\n\n\n\nProduce a map of a SSSI area of your choice within the NN zone. The map should show the SSSI itself and nearby/crossing roads and rivers, at a map scale of 1:150000. Make sure you order and style your layers properly for maximum map legibility.\nSave your analysis as a project, and export your map as a PDF.",
    "crumbs": [
      "Week 1 - Introduction to GIS",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Lab 1: QGIS overview and file management</span>"
    ]
  },
  {
    "objectID": "lab_intro.html#independent-exercise-2",
    "href": "lab_intro.html#independent-exercise-2",
    "title": "1  Lab 1: QGIS overview and file management",
    "section": "1.5 Independent Exercise 2",
    "text": "1.5 Independent Exercise 2\n\nDownload the zipfile containing the Air Photo Mosaic and the Stirling Council Geospatial Data from here.\nSet up a project folder structure to contain this project.\nExtract the data from the zipfiles and place them in the proper project folders.\nOpen the airphoto raster and the Railway Track, Electricity Transmission Line, and Functional Site vector files into QGIS.\nOrganize and style your layers so that railways and transmission lines are on top of every other layer, and shown in red but with different line styles. The air photo mosaic should be under all the vector layers, and the functional sites should be shown with outlines only, without a fill color.\n(Bonus) The airphoto image seems to be a bit faded, can you improve its contrast?\nAnswer the questions below:\n\n\nHow far is the Bridge of Allan train station to the Cottrell Main entrance? Calculate it both “as the crow flies” (linear distance) and as if you were driving.\nWhat is the total surface area of the water bodies in the University of Stirling Campus?\nWhat is the UoS campus polygon classified as within the “Functional Site” layer?",
    "crumbs": [
      "Week 1 - Introduction to GIS",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Lab 1: QGIS overview and file management</span>"
    ]
  },
  {
    "objectID": "lab_intro.html#pre-lab-activities",
    "href": "lab_intro.html#pre-lab-activities",
    "title": "1  Lab 1: QGIS overview and file management",
    "section": "",
    "text": "Attend or watch the recording for this weeks seminar on Canvas.\nWatch the video on how to obtain spatial data from the Digimap platform, a spatial data portal service that the university subscribes to.\nRead this document to understand how the British National Grid indexing system works.",
    "crumbs": [
      "Week 1 - Introduction to GIS",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Lab 1: QGIS overview and file management</span>"
    ]
  }
]